@import "tailwindcss";
@config "../tailwind.config.js";
@source "./**/*.{js,jsx,ts,tsx,html}", "../**/*.{js,jsx,ts,tsx,html}";

/* Base app styling */
:root {
  color-scheme: dark;
  /* Dark theme - Sharp monochrome palette */
  --bg-dark: 0 0 0;           /* hsl(0 0% 0%) - Pure black */
  --bg: 13 13 13;             /* hsl(0 0% 5%) - Very dark gray */
  --bg-light: 26 26 26;       /* hsl(0 0% 10%) - Dark gray */
  --bg-soft: 13 13 13;
  --text: 242 242 242;        /* hsl(0 0% 95%) - Nearly white */
  --text-muted: 179 179 179;  /* hsl(0 0% 70%) - Medium gray */
  --muted: 179 179 179;
  --border: 51 51 51;
  --card: 26 26 26;
  --card-soft: 13 13 13;
  --brand: 99 255 130;
  --brand-secondary: 0 217 255;
  --button-bg-rgb: 26 26 26;
  --button-outline-bg-rgb: 13 13 13;
  --button-text-rgb: 242 242 242;
  --button-border-rgb: 51 51 51;
  --button-disabled-bg-rgb: 38 38 38;
  --button-disabled-text-rgb: 128 128 128;
  /* Elevation tokens (dark) */
  --elev-top-shadow: 0 2px 8px rgba(0,0,0,0.4);
  --elev-main-shadow: 0 4px 12px rgba(0,0,0,0.5);
  --elev-top-border: rgba(255,255,255,0.08);
  --elev-main-border: rgba(255,255,255,0.05);
  --elev-top-blur: 0px;
  --elev-main-blur: 0px;
}

:root[data-theme='light'] {
  color-scheme: light;
  /* Light theme - Sharp monochrome palette */
  --bg-dark: 230 230 230;     /* hsl(0 0% 90%) - Light gray */
  --bg: 242 242 242;          /* hsl(0 0% 95%) - Very light gray */
  --bg-light: 255 255 255;    /* hsl(0 0% 100%) - Pure white */
  --bg-soft: 242 242 242;
  --text: 13 13 13;           /* hsl(0 0% 5%) - Nearly black */
  --text-muted: 77 77 77;     /* hsl(0 0% 30%) - Dark gray */
  --muted: 77 77 77;
  --border: 217 217 217;
  --card: 255 255 255;
  --card-soft: 242 242 242;
  --brand: 99 255 130;
  --brand-secondary: 0 163 255;
  --button-bg-rgb: 255 255 255;
  --button-outline-bg-rgb: 242 242 242;
  --button-text-rgb: 13 13 13;
  --button-border-rgb: 77 77 77;
  --button-disabled-bg-rgb: 230 230 230;
  --button-disabled-text-rgb: 128 128 128;
  /* Elevation tokens (light) */
  --elev-top-shadow: 0 2px 8px rgba(0,0,0,0.08);
  --elev-main-shadow: 0 4px 12px rgba(0,0,0,0.1);
  --elev-top-border: rgba(0,0,0,0.08);
  --elev-main-border: rgba(0,0,0,0.05);
  --elev-top-blur: 0px;
  --elev-main-blur: 0px;
}

html, body, #root { height: 100%; }

body {
  font-family: "Plus Jakarta Sans", Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", sans-serif;
  @apply text-[color:rgb(var(--text))] antialiased;
  background: rgb(var(--bg));
}

/* Elevation utilities (theme-aware via CSS variables) */
@layer utilities {
  .surface-top {
    box-shadow: var(--elev-top-shadow);
    border-color: var(--elev-top-border) !important;
    backdrop-filter: blur(var(--elev-top-blur));
  }
  .surface-main {
    box-shadow: var(--elev-main-shadow);
    border-color: var(--elev-main-border) !important;
    backdrop-filter: blur(var(--elev-main-blur));
  }
}

:root[data-theme='light'] body {
  @apply text-[color:rgb(var(--text))];
  background: rgb(var(--bg));
}

/* Global scale reduction (15%) via root font-size.
   Tailwind spacing/typography use rem units, so adjusting the
   root font-size scales the entire UI proportionally. */
html { font-size: 85%; }

/* Subtle noise overlay for depth */
.bg-noise:before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.03"/></svg>');
  background-size: 200px 200px;
  mix-blend-mode: screen;
}

:root[data-theme='light'] .bg-noise:before {
  mix-blend-mode: normal;
  opacity: 0.25;
}

:root[data-theme='light'] [data-card] {
  background: rgb(var(--bg-light)) !important;
  border-color: rgb(var(--border)) !important;
  color: rgb(var(--text));
}

:root[data-theme='light'] [data-sidebar] {
  background: rgb(var(--bg-light)) !important;
  color: rgb(var(--text));
}

:root[data-theme='light'] .text-white,
:root[data-theme='light'] .text-neutral-50 { color: rgb(var(--text)) !important; }

:root[data-theme='light'] .text-white\/80 { color: rgb(var(--text)) !important; }
:root[data-theme='light'] .text-white\/70 { color: rgb(var(--text-muted)) !important; }
:root[data-theme='light'] .text-white\/65 { color: rgb(var(--text-muted)) !important; }
:root[data-theme='light'] .text-white\/60 { color: rgb(var(--text-muted)) !important; }
:root[data-theme='light'] .text-white\/50 { color: rgb(var(--text-muted)) !important; }
:root[data-theme='light'] .text-white\/40 { color: rgb(var(--text-muted)) !important; }

:root[data-theme='light'] .text-white\/70 svg,
:root[data-theme='light'] .text-white svg { color: currentColor; }

:root[data-theme='light'] .bg-\[linear-gradient\(135deg,#63FF82,#00B9FF\)\] {
  background: rgb(var(--bg-light)) !important;
  color: rgb(var(--text)) !important;
}

:root[data-theme='light'] .bg-\[linear-gradient\(135deg,rgba\(36,38,46,0\.95\)_0%,rgba\(26,28,36,0\.94\)_100%\)\] {
  background: rgb(var(--bg-light)) !important;
  color: rgb(var(--text)) !important;
}

:root[data-theme='light'] .bg-\[linear-gradient\(135deg,rgba\(9,12,20,0\.92\)_0%,rgba\(13,16,24,0\.95\)_100%\)\] {
  background: rgb(var(--bg-light)) !important;
  color: rgb(var(--text)) !important;
}

:root[data-theme='light'] .bg-\[linear-gradient\(135deg,rgba\(12,16,22,0\.88\)_0%,rgba\(7,10,16,0\.96\)_100%\)\] {
  background: rgb(var(--bg-light)) !important;
  color: rgb(var(--text)) !important;
}

:root[data-theme='light'] .bg-\[linear-gradient\(135deg,rgba\(18,20,28,0\.9\)_0%,rgba\(10,12,18,0\.96\)_100%\)\] {
  background: rgb(var(--bg-light)) !important;
  color: rgb(var(--text)) !important;
}

:root[data-theme='light'] .border-white\/5 { border-color: rgb(var(--border)) !important; }

:root[data-theme='light'] .bg-\[rgba\(20,24,32,0\.7\)\] { background: rgb(var(--bg)) !important; color: rgb(var(--text)) !important; }
:root[data-theme='light'] .bg-\[rgba\(12,14,18,0\.9\)\] { background: rgb(var(--bg)) !important; }
:root[data-theme='light'] .bg-\[rgba\(10,12,16,0\.94\)\] { background: rgb(var(--bg)) !important; color: rgb(var(--text)) !important; }
:root[data-theme='light'] .bg-\[rgba\(9,16,33,0\.65\)\] { background: rgb(var(--bg)) !important; border-color: rgb(var(--border)) !important; }
:root[data-theme='light'] .bg-\[rgba\(9,16,33,0\.88\)\] { background: rgb(var(--bg)) !important; }
:root[data-theme='light'] .bg-\[rgba\(12,18,32,0\.65\)\] { background: rgb(var(--bg-light)) !important; color: rgb(var(--text)) !important; border-color: rgb(var(--border)) !important; }
:root[data-theme='light'] .bg-\[rgba\(18,19,24,0\.9\)\] { background: rgb(var(--bg-light)) !important; color: rgb(var(--text)) !important; }
:root[data-theme='light'] .theme-toggle { background: rgb(var(--bg-light)) !important; color: rgb(var(--text)) !important; border-color: rgb(var(--border)) !important; }

/* Custom surfaces */
.bg-hero-backdrop {
  background: rgb(var(--bg-dark));
}
:root[data-theme='light'] .bg-hero-backdrop {
  background: rgb(var(--bg-dark));
}

.bg-hero-card {
  background: rgb(var(--bg));
}
:root[data-theme='light'] .bg-hero-card {
  background: rgb(var(--bg-light));
}

.bg-hero-side {
  background: rgb(var(--bg));
}
:root[data-theme='light'] .bg-hero-side {
  background: rgb(var(--bg-light));
}

.bg-kpi-card {
  background: rgb(var(--card));
}
:root[data-theme='light'] .bg-kpi-card {
  background: rgb(var(--card));
  color: rgb(var(--text)) !important;
}

.bg-kpi-pill {
  background: rgb(var(--bg-light));
}
:root[data-theme='light'] .bg-kpi-pill {
  background: rgb(var(--bg-dark));
}

.bg-gradient-phase {
  background: rgb(var(--card));
}
:root[data-theme='light'] .bg-gradient-phase {
  background: rgb(var(--card));
}

.bg-phase-glow {
  background: transparent;
}
:root[data-theme='light'] .bg-phase-glow {
  background: transparent;
}

.bg-client-avatar {
  background: rgb(var(--card));
}
:root[data-theme='light'] .bg-client-avatar {
  background: rgb(var(--card));
  border-color: rgb(var(--border)) !important;
}

.bg-client-check {
  background: rgb(var(--card));
  color: rgb(var(--text));
}
:root[data-theme='light'] .bg-client-check {
  background: rgb(var(--card));
  color: rgb(var(--text));
  border-color: rgb(var(--border)) !important;
  box-shadow: var(--elev-main-shadow);
}

@layer utilities {
  @keyframes shimmer-slide {
    0% {
      transform: translate3d(-60%, -20%, 0) rotate(0deg);
    }
    100% {
      transform: translate3d(60%, 20%, 0) rotate(1turn);
    }
  }

  @keyframes spin-around {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(1turn);
    }
  }

  .animate-shimmer-slide {
    animation: shimmer-slide var(--speed, 3s) linear infinite;
  }

  .animate-spin-around {
    animation: spin-around calc(var(--speed, 3s) * 1.5) linear infinite;
  }
}

.bg-icon-tile {
  background: rgb(var(--bg-light));
}
:root[data-theme='light'] .bg-icon-tile {
  background: rgb(var(--bg-dark));
}

.progress-track {
  background: rgb(var(--card));
}
:root[data-theme='light'] .progress-track {
  background: rgb(var(--card));
}
.progress-fill-active {
  background: rgb(var(--brand));
}
.progress-fill-current {
  background: rgb(var(--brand));
}
.progress-fill-idle {
  background: rgb(var(--muted));
}
:root[data-theme='light'] .progress-fill-current {
  background: rgb(var(--brand));
}
:root[data-theme='light'] .progress-fill-idle {
  background: rgb(var(--muted));
}

.surface-input {
  background: rgb(var(--card));
  color: rgb(var(--text));
  border-color: rgb(var(--border)) !important;
}
.surface-input::placeholder {
  color: rgb(var(--text-muted));
}
.shadow-input {
  box-shadow: var(--elev-main-shadow);
}
:root[data-theme='light'] .surface-input {
  background: rgb(var(--card));
  color: rgb(var(--text));
  border-color: rgb(var(--border)) !important;
}
:root[data-theme='light'] .surface-input::placeholder {
  color: rgb(var(--text-muted));
}
:root[data-theme='light'] .shadow-input {
  box-shadow: var(--elev-main-shadow);
}
.placeholder-muted::placeholder {
  color: rgb(var(--text-muted));
}
:root[data-theme='light'] .placeholder-muted::placeholder {
  color: rgb(var(--text-muted));
}

/* Custom text helpers */
.text-heading-primary { color: rgb(var(--text)); }
.text-heading-subdued { color: rgb(var(--text-muted)); }
.text-kpi-secondary { color: rgb(var(--text-muted)); }
.text-kpi-pill-text { color: rgb(var(--text)); }
.text-kpi-pill-label { color: rgb(var(--text-muted)); }
.text-icon-primary { color: rgb(var(--text)); }
.text-button-contrast { color: rgb(var(--text)); }

:root[data-theme='light'] .text-heading-primary { color: rgb(var(--text)); }
:root[data-theme='light'] .text-heading-subdued { color: rgb(var(--text-muted)); }
:root[data-theme='light'] .text-kpi-secondary { color: rgb(var(--text-muted)); }
:root[data-theme='light'] .text-icon-primary { color: rgb(var(--text)); }
:root[data-theme='light'] .text-button-contrast { color: rgb(var(--text)); }
.nav-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.75rem 1rem;
  border-radius: 1rem;
  border: 1px solid rgb(var(--border));
  background: rgb(var(--card));
  color: rgb(var(--text));
  transition: all 0.2s ease;
}
.nav-item:hover {
  border-color: rgb(var(--border));
  box-shadow: var(--elev-main-shadow);
}
.nav-item-icon {
  width: 40px;
  height: 40px;
  border-radius: 0.9rem;
  background: rgb(var(--card-soft));
  border: 1px solid rgb(var(--border));
  display: flex;
  align-items: center;
  justify-content: center;
  color: rgb(var(--text));
  transition: inherit;
}
.nav-item-label {
  font-weight: 600;
  letter-spacing: -0.01em;
  color: inherit;
}
.nav-item-meta {
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 0.35em;
  color: rgb(var(--text-muted));
}
.nav-item--active {
  background: rgb(var(--card));
  border-color: rgb(var(--brand));
  color: rgb(var(--text));
  box-shadow: var(--elev-main-shadow);
}
.nav-item--active .nav-item-icon {
  background: rgb(var(--brand));
  border-color: rgb(var(--brand));
  color: rgb(var(--bg-dark));
}
.nav-profile-pill {
  background: rgb(var(--card));
  border: 1px solid rgb(var(--border));
  color: rgb(var(--text));
}
:root[data-theme='light'] .nav-item {
  background: rgb(var(--card));
  border-color: rgb(var(--border));
  color: rgb(var(--text));
  box-shadow: var(--elev-main-shadow);
}
:root[data-theme='light'] .nav-item:hover {
  box-shadow: var(--elev-main-shadow);
}
:root[data-theme='light'] .nav-item-icon {
  background: rgb(var(--card-soft));
  border-color: rgb(var(--border));
  color: rgb(var(--text));
}
:root[data-theme='light'] .nav-item-meta {
  color: rgb(var(--text-muted));
}
:root[data-theme='light'] .nav-item--active {
  background: rgb(var(--card));
  border-color: rgb(var(--brand));
  color: rgb(var(--text));
}
:root[data-theme='light'] .nav-item--active .nav-item-icon {
  background: rgb(var(--brand));
  color: rgb(var(--bg-dark));
  border-color: rgb(var(--brand));
}
:root[data-theme='light'] .nav-profile-pill {
  background: rgb(var(--card));
  border-color: rgb(var(--border));
  color: rgb(var(--text));
}

.bg-light-input {
  background: rgb(var(--card));
}
:root[data-theme='light'] .bg-light-input {
  background: rgb(var(--card)) !important;
  color: rgb(var(--text)) !important;
  border-color: rgb(var(--border)) !important;
}

.bg-light-chip {
  background: rgb(var(--card));
}
:root[data-theme='light'] .bg-light-chip {
  background: rgb(var(--card)) !important;
  color: rgb(var(--text)) !important;
}

.chat-bubble {
  background: rgb(var(--card));
  color: rgb(var(--text));
}
:root[data-theme='light'] .chat-bubble {
  background: rgb(var(--card));
  color: rgb(var(--text));
}

.chat-list-item {
  background: rgb(var(--card));
  border-color: rgb(var(--border));
  color: rgb(var(--text));
}
.chat-list-item:hover {
  background: rgb(var(--card-soft));
}
.chat-list-item--active {
  background: rgb(var(--card));
  border-color: rgb(var(--brand));
  color: rgb(var(--text));
}
:root[data-theme='light'] .chat-list-item {
  background: rgb(var(--card));
  border-color: rgb(var(--border));
  color: rgb(var(--text));
  box-shadow: var(--elev-main-shadow);
}
:root[data-theme='light'] .chat-list-item:hover {
  background: rgb(var(--card-soft));
}
:root[data-theme='light'] .chat-list-item--active {
  background: rgb(var(--card));
  border-color: rgb(var(--brand));
  color: rgb(var(--text));
}

.text-sidebar-muted { color: rgb(var(--text-muted)); }
:root[data-theme='light'] .text-sidebar-muted { color: rgb(var(--text-muted)); }

.nav-profile-pill { background: rgb(var(--card)); border: 1px solid rgb(var(--border)); color: rgb(var(--text)); }
:root[data-theme='light'] .nav-profile-pill { background: rgb(var(--card)); border-color: rgb(var(--border)); color: rgb(var(--text)); }

.bg-sidebar-topper {
  background: rgb(var(--card));
}
:root[data-theme='light'] .bg-sidebar-topper {
  background: rgb(var(--card));
  color: rgb(var(--text));
}


.focus-card {
  background: rgb(var(--card));
  color: rgb(var(--text));
}
:root[data-theme='light'] .focus-card {
  background: rgb(var(--card));
  color: rgb(var(--text));
  border-color: rgb(var(--border)) !important;
  box-shadow: var(--elev-main-shadow);
}

.focus-pill {
  background: rgb(var(--card));
}
:root[data-theme='light'] .focus-pill {
  background: rgb(var(--card));
  color: rgb(var(--text));
}

.county-chip {
  background: rgb(var(--card));
  color: rgb(var(--text));
  border: 1px solid rgb(var(--border));
  border-radius: 0.75rem;
  padding: 0.35rem 0.75rem;
  box-shadow: var(--elev-main-shadow);
  font-size: 0.85rem;
  letter-spacing: 0.01em;
}
:root[data-theme='light'] .county-chip {
  background: rgb(var(--card));
  color: rgb(var(--text));
  border-color: rgb(var(--border));
  box-shadow: var(--elev-main-shadow);
}
.surface-chip {
  background: rgb(var(--card));
  border: 1px solid rgb(var(--border));
  color: rgb(var(--text));
  transition: all 0.2s ease;
}
.surface-chip:hover {
  border-color: rgb(var(--brand));
  box-shadow: var(--elev-main-shadow);
}
:root[data-theme='light'] .surface-chip {
  background: rgb(var(--card));
  color: rgb(var(--text));
  border-color: rgb(var(--border));
  box-shadow: var(--elev-main-shadow);
}
:root[data-theme='light'] .surface-chip:hover {
  border-color: rgb(var(--brand));
  box-shadow: var(--elev-main-shadow);
}
